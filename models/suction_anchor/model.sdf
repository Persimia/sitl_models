<?xml version='1.0'?>
<sdf version='1.9'>
   
  <model name='suction_anchor'>
        <link name="shoulder_link">
        <inertial>
            <mass>0.05</mass>
            <inertia>
                <ixx>0.0001</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>0.0001</iyy>
                <iyz>0</iyz>
                <izz>0.0001</izz>
            </inertia>
        </inertial>
        <visual name='visual'>
            <geometry>
                <box>
                    <size>0.025 0.025 0.025</size>
                </box>
            </geometry>
            <material>
                <ambient>0.0 1 0.0 1</ambient>
                <diffuse>0.0 1 0.0 1</diffuse>
                <specular>0.0 1 0.0 1</specular>
            </material>
        </visual>
    </link>
        <link name="upper_arm">
        <pose relative_to="shoulder_link">.0125 0 0 0 0 0</pose>
        <inertial>
            <mass>0.05</mass>
            <inertia>
                <ixx>0.0001</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>0.0001</iyy>
                <iyz>0</iyz>
                <izz>0.0001</izz>
            </inertia>
        </inertial>
        <visual name='visual'>
            <geometry>
                <box>
                    <size>0.2 0.025 0.05</size>
                </box>
            </geometry>
            <material>
                <ambient>0.0 1 0.0 1</ambient>
                <diffuse>0.0 1 0.0 1</diffuse>
                <specular>0.0 1 0.0 1</specular>
            </material>
        </visual>
    </link>
    <link name="forearm">
    <pose relative_to="upper_arm">0.2 0 0 0 0 0</pose>
        <inertial>
            <mass>0.05</mass>
            <inertia>
                <ixx>0.0001</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>0.0001</iyy>
                <iyz>0</iyz>
                <izz>0.0001</izz>
            </inertia>
        </inertial>
        <visual name='visual'>
            <geometry>
                <box>
                    <size>0.2 0.025 0.05</size>
                </box>
            </geometry>
            <material>
                <ambient>0.0 1 0.0 1</ambient>
                <diffuse>0.0 1 0.0 1</diffuse>
                <specular>0.0 1 0.0 1</specular>
            </material>
        </visual>
    </link>
    <link name='probe'>
    <pose relative_to="forearm">0.05 0 0 0 0 0</pose> <!--angles are in radian-->
        <inertial>
            <mass>0.05</mass>
            <inertia>
                <ixx>0.0001</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>0.0001</iyy>
                <iyz>0</iyz>
                <izz>0.0001</izz>
            </inertia>
        </inertial>
        <visual name='visual'>
            <geometry>
                <box>
                    <size>0.05 0.1 0.3</size>
                </box>
            </geometry>
            <material>
                <ambient>0.0 1 0.0 1</ambient>
                <diffuse>0.0 1 0.0 1</diffuse>
                <specular>0.0 1 0.0 1</specular>
            </material>
        </visual>
        <collision name='suction_collision'>
            <geometry>
                <box>
                    <size>0.05 0.1 0.3</size>
                </box>
            </geometry>
            <surface>
                <friction>
                    <ode>
                        <mu>
                            50.0
                        </mu>
                        <mu2>
                            50.0
                        </mu2>
                    </ode>
                </friction>
                <contact>
                    <ode>
                    <max_vel>0</max_vel>
                    <min_depth>0.001</min_depth>
                    </ode>
                </contact>
                </surface>
        </collision>
        <sensor name='sensor_contact' type='contact'>
            <contact>
                <collision>suction_collision</collision>
            </contact>
        </sensor>
    </link>
    <joint name='shoulder_joint' type='revolute'>
        <pose relative_to='upper_arm'>-0.1 0 0 0 0 0</pose>
        <parent>shoulder_link</parent>
        <child>upper_arm</child>
        <axis>
            <xyz expressed_in='__model__'>0 1 0</xyz>
            <limit>
                <lower>.4</lower>    <!--negative infinity-->
                <upper>1.4</upper>     <!--positive infinity-->
            </limit>
            <dynamics>
                <damping>10</damping>
                <spring_reference> .7 </spring_reference>
                <spring_stiffness> 400</spring_stiffness>
            </dynamics>
        </axis>
    </joint>
    <joint name='elbow_joint' type='revolute'>
        <pose relative_to='forearm'>-.1 0 0 0 0 0</pose>
        <parent>upper_arm</parent>
        <child>forearm</child>
        <axis>
            <xyz expressed_in='__model__'>0 1 0</xyz>
            <limit>
                <lower>-2</lower>    <!--negative infinity-->
                <upper>-.8</upper>     <!--positive infinity-->
            </limit>
            <dynamics>
                <damping>10</damping>
                <spring_reference> -1.4 </spring_reference>
                <spring_stiffness> 400</spring_stiffness>
            </dynamics>
        </axis>
    </joint>
    <joint name='wrist_joint' type='revolute'>
        <pose relative_to='probe'>-.05 0 0 0 0 0</pose>
        <parent>forearm</parent>
        <child>probe</child>
        <axis>
            <xyz expressed_in='__model__'>0 1 0</xyz>
            <limit>
                <lower>0</lower>    <!--negative infinity-->
                <upper>1.4</upper>     <!--positive infinity-->
            </limit>
            <dynamics>
                <damping>10</damping>
                <spring_reference> .7 </spring_reference>
                <spring_stiffness> 400</spring_stiffness>
            </dynamics>
        </axis>
        <axis>
            <xyz expressed_in='__model__'>1 0 0</xyz>
            <limit>
                <lower>-10000000000</lower>    <!--negative infinity-->
                <upper>10000000000</upper>     <!--positive infinity-->
            </limit>
            <dynamics>
                <damping>1</damping>
                <spring_reference> 0 </spring_reference>
                <spring_stiffness> 10</spring_stiffness>
            </dynamics>
        </axis>
        <axis>
            <xyz expressed_in='__model__'>0 0 1</xyz>
            <limit>
                <lower>-.5</lower>    <!--negative infinity-->
                <upper>.5</upper>     <!--positive infinity-->
            </limit>
            <dynamics>
                <damping>1</damping>
                <spring_reference> 0 </spring_reference>
                <spring_stiffness> 10</spring_stiffness>
            </dynamics>
        </axis>
    </joint>
    <plugin filename="SuctionPlugin"
            name="SuctionPlugin">
        <parent_link>probe</parent_link>
        <detach_topic>/detach</detach_topic>
        <attach_topic>/attach</attach_topic>
        <output_topic>/attached_state</output_topic>
        <suction_force>80</suction_force>
    </plugin>
  </model>
</sdf>